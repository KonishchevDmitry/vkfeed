{% extends "base.html" %}

{% block no_title %}{% endblock %}

{% block head %}
    <script type="text/javascript">
        var formInputFocused = false;

        function setFormInputFocus() {
            if(!formInputFocused)
                document.profile_url_form.profile_url.focus();
        }
    </script>
{% endblock %}

{% block body %}
    <div class="block">
        Данный сервис является неофициальным дополнением к сайту
        <a href="http://vk.com/" target="_blank">vk.com</a>
        и позволяет получать сообщения с публично-доступных стен в формате
        <a href="http://orss.ru/" target="_blank">RSS</a>.
    </div>

    <div class="block">
        <form name="profile_url_form" action="/" method="post">
            Введите URL страницы пользователя или группы:

            <table width="100%" cellpadding="0" cellspacing="0">
                <tr>
                    <td width="100%">
                        <input type="text" name="profile_url" style="width: 100%" onfocus="formInputFocused = true;" />
                    </td>
                    <td>
                        <input type="submit" style="margin-left: 0" value="Сгенерировать RSS-ленту" />
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <input type="checkbox" name="foreign_posts" value="1" style="margin-left: 0; margin-top: 10px">
                            Отображать сообщения других пользователей в ленте
                        </input>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <input type="checkbox" name="big_photos" value="1" style="margin-left: 0; margin-top: 10px">
                            Всегда отображать полноразмерные фото
                        </input>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <input type="checkbox" name="show_photo" checked="checked" value="1" style="margin-left: 0; margin-top: 10px">
                            Отображать фотографии пользователей
                        </input>
                    </td>
                </tr>
            </table>

            {% if post_error %}
                <div class="error_balloon">* {{ post_error }}</div>
            {% endif %}
        </form>

        <div class="block">
            <b>Примечание:</b> сервис позволяет сгенерировать RSS-ленту
            исключительно для публично-доступных стен. Если вы хотите получать
            по RSS <a href="https://vk.com/feed">вашу ленту новостей</a>,
            то воспользуйтесь <a href="https://github.com/KonishchevDmitry/social-rss">Social RSS</a>.
        </div>

        <div class="block">
            <b>Внимание!</b> В связи с большим количеством пользователей
            сервиса и очень жесткими ограничениями
            <a href="http://code.google.com/appengine/" target="_blank">Google App Engine</a>
            на входящий и исходящий трафик, большая просьба пользоваться online
            RSS-читалками, которые кэшируют фиды на своей стороне
            (<a href="http://www.feedly.com" target="_blank">Feedly</a>,
            <a href="http://www.newsblur.com/" target="_blank">NewsBlur</a>,
            <a href="https://bazqux.com/" target="_blank">BazQux Reader</a>).
            Пользователи, запрашивающие RSS чаще, чем раз в 30 минут, будут
            безжалостно баниться.
        </div>

        <script type="text/javascript">
            setFormInputFocus();
        </script>
    </div>
{% endblock %}

